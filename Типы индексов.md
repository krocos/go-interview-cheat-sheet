PostgreSQL предлагает несколько типов индексов, каждый из которых оптимизирован для определенных сценариев использования. Вот основные типы:

# B-tree (Балансированные деревья)
- **Самый распространенный тип** по умолчанию
- **Подходят для**: 
  - Точечных запросов (`=`)
  - Диапазонных запросов (`>`, `<`, `BETWEEN`)
  - Сортировки (`ORDER BY`)
  - Уникальных ограничений
- **Пример**: `CREATE INDEX idx_name ON table(column);`

# Hash
- **Для**: только операций равенства (`=`)
- **Особенности**:
  - Быстрее B-tree для простых равенств
  - Не поддерживает диапазонные запросы
  - Не поддерживается в уникальных индексах
- **Пример**: `CREATE INDEX idx_name ON table USING HASH(column);`

# GiST (Generalized Search Tree)
- **Для**: сложных типов данных (геоданные, полнотекстовый поиск)
- **Поддерживает**: 
  - Геометрические типы
  - Полнотекстовый поиск
  - Диапазоны
- **Пример**: `CREATE INDEX idx_gist ON table USING GIST(geom_column);`

# GIN (Generalized Inverted Index)
- **Для**: составных значений (массивы, JSON, полнотекстовый поиск)
- **Особенности**:
  - Оптимизирован для "содержит" (`@>`)
  - Хорош для поиска по элементам массивов или JSON
- **Пример**: `CREATE INDEX idx_gin ON table USING GIN(jsonb_column);`

# SP-GiST (Space-Partitioned GiST)
- **Для**: неоднородных данных (IP-адреса, геоданные)
- **Пример**: `CREATE INDEX idx_spgist ON table USING SPGIST(ip_column);`

# BRIN (Block Range INdex)
- **Для**: очень больших таблиц с естественной сортировкой
- **Особенности**:
  - Компактный размер
  - Эффективен для временных данных или последовательных значений
- **Пример**: `CREATE INDEX idx_brin ON table USING BRIN(date_column);`

# Bloom
- **Для**: многоколоночных запросов с условиями равенства
- **Особенности**:
  - Компактный, но с вероятностным характером
  - Полезен для аналитических запросов
- **Пример**: `CREATE INDEX idx_bloom ON table USING BLOOM(col1, col2, col3);`

# Когда какой индекс использовать?
- **Стандартные запросы** → B-tree
- **JSON/массивы** → GIN
- **Геоданные** → GiST или SP-GiST
- **Полнотекстовый поиск** → GIN или GiST
- **Очень большие таблицы** → BRIN
- **Множество условий равенства** → Bloom

Индексы ускоряют поиск, но замедляют операции вставки/обновления, поэтому их нужно создавать обдуманно.