**Денормализация** в реляционных базах данных — это процесс намеренного внесения избыточности в структуру базы данных для улучшения производительности.
# Когда применяют денормализацию?
## Ускорение запросов
- Если сложные JOIN-операции замедляют выборку, дублирование данных в одной таблице может ускорить чтение.
- Пример: хранение имени пользователя не только в таблице `users`, но и в таблице `orders`, чтобы избежать JOIN.
## Агрегация данных
- Предрасчёт сумм, средних значений и других агрегатов (например, `total_amount` в таблице заказов).
## Отчетность и аналитика
- В хранилищах данных (Data Warehouses) денормализованные схемы (звёзды, снежинки) упрощают аналитические запросы.
## Упрощение API
- Если приложению часто нужны данные из нескольких нормализованных таблиц, их объединение в одну упрощает код.
## Кэширование часто используемых данных
- Например, хранение количества комментариев в записи блога, чтобы не считать их каждый раз.
# Минусы денормализации
- **Аномалии данных**: риск несогласованности при обновлениях.
- **Усложнение поддержки**: нужно следить за целостностью (триггеры, транзакции).
- **Увеличение размера БД**: из-за дублирования.
# Вывод
Денормализацию применяют осознанно, когда выгода от скорости чтения перевешивает недостатки. В OLTP-системах её используют осторожно, в OLAP (аналитика) — часто.