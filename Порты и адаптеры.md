## üß© –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

- **–ü–æ—Ä—Ç (Port)** ‚Äî —ç—Ç–æ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å/–∫–æ–Ω—Ç—Ä–∞–∫—Ç**, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –¥–æ–º–µ–Ω –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º.  
  –ü–æ—Ä—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –∫–æ–¥—É** (application/domain).

- **–ê–¥–∞–ø—Ç–µ—Ä (Adapter)** ‚Äî —ç—Ç–æ **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–∞**, –∫–æ—Ç–æ—Ä–∞—è –∑–Ω–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ë–î, HTTP, Kafka, gRPC –∏ —Ç.–¥.).  
  –ê–¥–∞–ø—Ç–µ—Ä—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç **–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–º—É –∫–æ–¥—É**.

---

## ‚öñÔ∏è –í–µ–¥—É—â–∏–µ –∏ –≤–µ–¥–æ–º—ã–µ –ø–æ—Ä—Ç—ã

- **–í–µ–¥—É—â–∏–µ (Driving ports)** ‚Äî —Ç–æ, –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  
  –ü—Ä–∏–º–µ—Ä—ã: HTTP-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, CLI-–∫–æ–º–∞–Ω–¥–∞, consumer –∏–∑ –æ—á–µ—Ä–µ–¥–∏.  
  ‚Üí –û–Ω–∏ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç –¥–µ–π—Å—Ç–≤–∏—è.  

- **–í–µ–¥–æ–º—ã–µ (Driven ports)** ‚Äî —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞.  
  –ü—Ä–∏–º–µ—Ä—ã: —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –ë–î, –∫–ª–∏–µ–Ω—Ç –∫ –≤–Ω–µ—à–Ω–µ–º—É API, –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π.  
  ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Ö.  

---

## üîå –ê–Ω–∞–ª–æ–≥–∏—è

- **–ü–æ—Ä—Ç** = —Ä–æ–∑–µ—Ç–∫–∞ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç: "–≤–æ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —à—Ç–µ–∫–µ—Ä").  
- **–ê–¥–∞–ø—Ç–µ—Ä** = –ø–µ—Ä–µ—Ö–æ–¥–Ω–∏–∫, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ä–æ–∑–µ—Ç–∫–µ.  

---

## üíª –ü—Ä–∏–º–µ—Ä –Ω–∞ Go

### –í–µ–¥–æ–º—ã–π –ø–æ—Ä—Ç (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

```go
// –ü–æ—Ä—Ç (–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∑–≤–æ–Ω–∫–æ–≤)
type CallsRepository interface {
    Save(call *Call) error
    FindByLogin(login string) (*Call, error)
}
```

```go
// –ê–¥–∞–ø—Ç–µ—Ä (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ Postgres)
type PostgresCallsRepository struct {
    db *sql.DB
}

func (r *PostgresCallsRepository) Save(call *Call) error {
    _, err := r.db.Exec("INSERT INTO calls ...")
    return err
}

func (r *PostgresCallsRepository) FindByLogin(login string) (*Call, error) {
    row := r.db.QueryRow("SELECT ... WHERE login=$1", login)
    var call Call
    if err := row.Scan(&call.ID, &call.Login); err != nil {
        return nil, err
    }
    return &call, nil
}
```

### –í–µ–¥—É—â–∏–π –ø–æ—Ä—Ç (—Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

```go
// –ü–æ—Ä—Ç (–∫–æ–Ω—Ç—Ä–∞–∫—Ç use case)
type CallsService interface {
    LastCallByLogin(ctx context.Context, login string) (*Call, error)
}
```

```go
// –ê–¥–∞–ø—Ç–µ—Ä (HTTP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –¥–µ—Ä–≥–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
func (h *HTTPHandler) GetLastCallByLogin(w http.ResponseWriter, r *http.Request) {
    login := r.URL.Query().Get("login")
    call, err := h.callsService.LastCallByLogin(r.Context(), login)
    if err != nil {
        http.Error(w, err.Error(), http.StatusNotFound)
        return
    }
    json.NewEncoder(w).Encode(call)
}
```

---

## üìå –ò—Ç–æ–≥

- **–ü–æ—Ä—Ç—ã** –æ–ø–∏—Å—ã–≤–∞—é—Ç, *–∫–∞–∫* –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏–ª–∏ —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω—É–∂–Ω–æ.  
- **–ê–¥–∞–ø—Ç–µ—Ä—ã** —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏, *–∫–∞–∫ –∏–º–µ–Ω–Ω–æ* —ç—Ç–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è.  
- –í–µ–¥—É—â–∏–µ –ø–æ—Ä—Ç—ã = —Ç–æ, –∫–∞–∫ –Ω–∞—Å –≤—ã–∑—ã–≤–∞—é—Ç.  
- –í–µ–¥–æ–º—ã–µ –ø–æ—Ä—Ç—ã = —Ç–æ, —á—Ç–æ –º—ã —Å–∞–º–∏ –≤—ã–∑—ã–≤–∞–µ–º.  
